(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{533:(e,t,s)=>{Promise.resolve().then(s.bind(s,840))},840:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(5155),r=s(2115),l=s(3463),i=s(9795);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.QP)((0,l.$)(t))}let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:n("rounded-xl border bg-card text-card-foreground shadow",s),...r})});o.displayName="Card",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:n("flex flex-col space-y-1.5 p-6",s),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:n("font-semibold leading-none tracking-tight",s),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:n("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:n("p-6 pt-0",s),...r})}).displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:n("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter";var d=s(1290);let c=(0,s(1027).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:i=!1,...o}=e,u=i?d.DX:"button";return(0,a.jsx)(u,{className:n(c({variant:r,size:l,className:s})),ref:t,...o})});u.displayName="Button";var m=s(2852),x=s(3025),f=s(6694),h=s(4333),g=s(8670),p=s(689),v=s(7193),y=s(6758),b=s(5565);let N=()=>{let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)([]),[i,n]=(0,r.useState)(!1),[d,c]=(0,r.useState)(null),[N,j]=(0,r.useState)(1),[w,k]=(0,r.useState)({x:0,y:0}),[C,M]=(0,r.useState)(!1),[R,S]=(0,r.useState)({x:0,y:0}),[A,z]=(0,r.useState)(!1),[_,O]=(0,r.useState)(!1),P=(0,r.useRef)(null),D=(0,r.useRef)(null),F=(e,t)=>{if(!D.current)return null;let s=D.current.getBoundingClientRect();return{x:Math.min(Math.max((e-s.left)/s.width*100,0),100),y:Math.min(Math.max((t-s.top)/s.height*100,0),100)}},X=(e,t)=>{e.stopPropagation(),n(!0),c(t)},L=()=>{n(!1),c(null)},U=e=>{if(i&&d){e.stopPropagation();let t=F(e.clientX,e.clientY);t&&l(s.map(e=>e.id===d.id?{...e,...t}:e))}},Y=e=>{C&&k({x:e.clientX-R.x,y:e.clientY-R.y})},E=()=>{M(!1)},J=(e,t)=>{e.stopPropagation(),l(s.filter(e=>e.id!==t))},T=e=>{j(t=>Math.min(Math.max(e?1.5*t:t/1.5,.5),10))};return(0,a.jsxs)("div",{className:"w-full max-w-4xl mx-auto p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"relative w-32 h-32",children:(0,a.jsx)(b.default,{src:"/map-marker-maker/images/logo.png",alt:"Map Marker Maker Logo",width:128,height:128,className:"rounded-lg"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Map Marker Maker"})]}),(0,a.jsx)(o,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var s;let a=null===(s=e.target.files)||void 0===s?void 0:s[0];a&&(t(URL.createObjectURL(a)),l([]),j(1),k({x:0,y:0}))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,a.jsxs)(u,{onClick:()=>T(!0),size:"sm",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-1"})," Zoom In"]}),(0,a.jsxs)(u,{onClick:()=>T(!1),size:"sm",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-1"})," Zoom Out"]}),(0,a.jsxs)(u,{onClick:()=>{j(1),k({x:0,y:0})},size:"sm",variant:"outline",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 mr-1"})," Reset View"]}),(0,a.jsxs)(u,{onClick:()=>z(!0),size:"sm",variant:A?"secondary":"outline",className:A?"bg-blue-100":"",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Add Marker"]})]}),(0,a.jsx)("div",{ref:P,className:"relative w-full h-[600px] bg-gray-100 overflow-hidden",style:{cursor:A?"crosshair":"move"},onClick:e=>{if(A&&!i&&!C){let t=F(e.clientX,e.clientY);t&&(l([...s,{id:Date.now(),...t}]),z(!1))}},onMouseDown:e=>{i||(M(!0),S({x:e.clientX-w.x,y:e.clientY-w.y}))},onMouseMove:e=>{U(e),Y(e)},onMouseUp:()=>{L(),E()},onMouseLeave:()=>{L(),E()},children:(0,a.jsxs)("div",{style:{transform:"translate(".concat(w.x,"px, ").concat(w.y,"px) scale(").concat(N,")"),transformOrigin:"0 0"},className:"absolute top-0 left-0 h-full flex items-center justify-center",children:[(0,a.jsx)("img",{ref:D,src:e,alt:"Uploaded image",className:"h-full w-auto",draggable:"false"}),s.map(e=>(0,a.jsx)("div",{className:"absolute w-8 h-8",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),cursor:i?"grabbing":"grab",transform:"translate(-50%, -50%) scale(".concat(1/N,")")},onMouseDown:t=>X(t,e),children:(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"bg-blue-500 text-white rounded-full p-2",children:(0,a.jsx)(g.A,{className:"h-4 w-4"})}),(0,a.jsx)(u,{variant:"destructive",size:"icon",className:"absolute -top-5 -right-5 h-4 w-4 rounded-full opacity-0 group-hover:opacity-100",onClick:t=>J(t,e.id),children:(0,a.jsx)(p.A,{className:"h-2 w-2"})})]})},e.id))]})})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Marker Positions (JSON):"}),(0,a.jsx)(u,{size:"sm",variant:"outline",className:"border-gray-700 hover:bg-gray-800 text-gray-700 hover:text-white",onClick:()=>{navigator.clipboard.writeText(JSON.stringify(s,null,2)),O(!0),setTimeout(()=>O(!1),2e3)},children:_?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{className:"h-4 w-4 mr-1"}),"Copied!"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),(0,a.jsx)("pre",{className:"bg-gray-800 text-gray-300 p-4 rounded-lg overflow-auto max-h-40",children:JSON.stringify(s,null,2)})]})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[228,441,517,358],()=>t(533)),_N_E=e.O()}]);