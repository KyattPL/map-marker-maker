(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{533:(e,t,a)=>{Promise.resolve().then(a.bind(a,840))},840:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var s=a(5155),r=a(2115),l=a(3463),i=a(9795);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.QP)((0,l.$)(t))}let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:n("rounded-xl border bg-card text-card-foreground shadow",a),...r})});o.displayName="Card",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:n("flex flex-col space-y-1.5 p-6",a),...r})}).displayName="CardHeader",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:n("font-semibold leading-none tracking-tight",a),...r})}).displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:n("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:n("p-6 pt-0",a),...r})}).displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:n("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";var c=a(1290);let d=(0,a(1027).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:i=!1,...o}=e,u=i?c.DX:"button";return(0,s.jsx)(u,{className:n(d({variant:r,size:l,className:a})),ref:t,...o})});u.displayName="Button";var m=a(2852),x=a(3025),f=a(6694),h=a(4333),g=a(8670),p=a(689),v=a(7193),y=a(6758),b=a(5565);let N=()=>{let[e,t]=(0,r.useState)(""),[a,l]=(0,r.useState)([]),[i,n]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[N,j]=(0,r.useState)(1),[w,k]=(0,r.useState)({x:0,y:0}),[C,M]=(0,r.useState)(!1),[R,S]=(0,r.useState)({x:0,y:0}),[A,z]=(0,r.useState)(!1),_=(0,r.useRef)(null),[O,P]=(0,r.useState)(!1),D=(e,t)=>{e.stopPropagation(),n(!0),d(t)},F=()=>{n(!1),d(null)},X=e=>{if(i&&c&&_.current){e.stopPropagation();let t=_.current.getBoundingClientRect(),s=(e.clientX-t.left-w.x)/N/t.width*100,r=(e.clientY-t.top-w.y)/N/t.height*100;l(a.map(e=>e.id===c.id?{...e,x:Math.min(Math.max(s,0),100),y:Math.min(Math.max(r,0),100)}:e))}},L=e=>{C&&k({x:e.clientX-R.x,y:e.clientY-R.y})},U=()=>{M(!1)},Y=(e,t)=>{e.stopPropagation(),l(a.filter(e=>e.id!==t))},B=e=>{j(t=>Math.min(Math.max(e?1.5*t:t/1.5,.5),10))};return(0,s.jsxs)("div",{className:"w-full max-w-4xl mx-auto p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"relative w-32 h-32",children:(0,s.jsx)(b.default,{src:"/map-marker-maker/images/logo.png",alt:"Map Marker Maker Logo",width:128,height:128,className:"rounded-lg"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Map Marker Maker"})]}),(0,s.jsx)(o,{className:"p-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{let a=e.target.files[0];a&&(t(URL.createObjectURL(a)),l([]),j(1),k({x:0,y:0}))},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,s.jsxs)(u,{onClick:()=>B(!0),size:"sm",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-1"})," Zoom In"]}),(0,s.jsxs)(u,{onClick:()=>B(!1),size:"sm",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-1"})," Zoom Out"]}),(0,s.jsxs)(u,{onClick:()=>{j(1),k({x:0,y:0})},size:"sm",variant:"outline",children:[(0,s.jsx)(f.A,{className:"h-4 w-4 mr-1"})," Reset View"]}),(0,s.jsxs)(u,{onClick:()=>z(!0),size:"sm",variant:A?"secondary":"outline",className:A?"bg-blue-100":"",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Add Marker"]})]}),(0,s.jsx)("div",{ref:_,className:"relative w-full aspect-video bg-gray-100 ".concat(A?"cursor-crosshair":"cursor-move"," overflow-hidden"),onClick:e=>{if(A&&!i&&!C&&_.current){let t=_.current.getBoundingClientRect(),s=(e.clientX-t.left-w.x)/N/t.width*100,r=(e.clientY-t.top-w.y)/N/t.height*100;l([...a,{id:Date.now(),x:s,y:r}]),z(!1)}},onMouseDown:e=>{i||(M(!0),S({x:e.clientX-w.x,y:e.clientY-w.y}))},onMouseMove:e=>{X(e),L(e)},onMouseUp:()=>{F(),U()},onMouseLeave:()=>{F(),U()},children:(0,s.jsxs)("div",{style:{transform:"translate(".concat(w.x,"px, ").concat(w.y,"px) scale(").concat(N,")"),transformOrigin:"0 0"},className:"absolute top-0 left-0 w-full h-full",children:[(0,s.jsx)("img",{src:e,alt:"Uploaded image",className:"w-full h-full object-contain",draggable:"false"}),a.map(e=>(0,s.jsx)("div",{className:"absolute w-8 h-8 -translate-x-1/2 -translate-y-1/2",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),cursor:i?"grabbing":"grab",transform:"translate(-50%, -50%) scale(".concat(1/N,")")},onMouseDown:t=>D(t,e),children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("div",{className:"bg-blue-500 text-white rounded-full p-2",children:(0,s.jsx)(g.A,{className:"h-4 w-4"})}),(0,s.jsx)(u,{variant:"destructive",size:"icon",className:"absolute -top-5 -right-5 h-4 w-4 rounded-full opacity-0 group-hover:opacity-100",onClick:t=>Y(t,e.id),children:(0,s.jsx)(p.A,{className:"h-2 w-2"})})]})},e.id))]})})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Marker Positions (JSON):"}),(0,s.jsx)(u,{size:"sm",variant:"outline",className:"border-gray-700 hover:bg-gray-800 text-gray-700 hover:text-white",onClick:()=>{navigator.clipboard.writeText(JSON.stringify(a,null,2)),P(!0),setTimeout(()=>P(!1),2e3)},children:O?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.A,{className:"h-4 w-4 mr-1"}),"Copied!"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),(0,s.jsx)("pre",{className:"bg-gray-800 text-gray-300 p-4 rounded-lg overflow-auto max-h-40",children:JSON.stringify(a,null,2)})]})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[228,441,517,358],()=>t(533)),_N_E=e.O()}]);